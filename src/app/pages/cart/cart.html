<div class="container mt-4" *ngIf="items.length; else empty">
  <h2>Your Cart</h2>
  <div class="list-group mb-3">
    <div class="list-group-item d-flex align-items-center" *ngFor="let i of items">
      <img *ngIf="i.imageUrl" [src]="i.imageUrl" alt="{{i.name}}" style="width:64px;height:64px;object-fit:cover" class="me-3 rounded">
      <div class="flex-grow-1">
        <div class="fw-semibold">{{ i.name }}</div>
        <div>{{ i.price | currency }}</div>
      </div>
      <div class="btn-group me-3">
        <button class="btn btn-outline-secondary" (click)="dec(i)">-</button>
        <button class="btn btn-light" disabled>{{ i.quantity }}</button>
        <button class="btn btn-outline-secondary" (click)="inc(i)">+</button>
      </div>
      <div class="me-3 fw-semibold">{{ (i.price * i.quantity) | currency }}</div>
      <button class="btn btn-outline-danger" (click)="remove(i)">Remove</button>
    </div>
  </div>

  <div class="d-flex justify-content-between align-items-center">
    <button class="btn btn-outline-secondary" (click)="clear()">Clear Cart</button>
    <div class="fs-5">Total: <strong>{{ total | currency }}</strong></div>
  </div>

  <div class="mt-3 text-end">
    <a class="btn btn-primary" routerLink="/checkout">Proceed to Checkout</a>
  </div>
</div>

<ng-template #empty>
  <div class="container mt-5 text-center">
    <h3>Your cart is empty</h3>
    <a class="btn btn-primary mt-3" routerLink="/">Browse products</a>
  </div>
</ng-template>
